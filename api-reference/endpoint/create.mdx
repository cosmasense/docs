---
title: 'Watch Directory'
api: 'POST /api/watch/directory'
---

Add a directory to the watch list and start indexing all files within it.

## Request

<ParamField body="path" type="string" required>
  Absolute path to the directory to watch and index

  Example: `/Users/username/Downloads`
</ParamField>

## Request Example

```bash cURL
curl -X POST http://localhost:60534/api/watch/directory \
  -H "Content-Type: application/json" \
  -d '{
    "path": "/Users/username/Downloads"
  }'
```

```python Python
import requests

response = requests.post(
    'http://localhost:60534/api/watch/directory',
    json={'path': '/Users/username/Downloads'}
)

print(response.json())
```

```javascript JavaScript
const response = await fetch('http://localhost:60534/api/watch/directory', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    path: '/Users/username/Downloads'
  })
});

const data = await response.json();
console.log(data);
```

## Response

<ResponseField name="status" type="string">
  Status of the request: `success` or `error`
</ResponseField>

<ResponseField name="data" type="object">
  <Expandable title="properties">
    <ResponseField name="directory" type="string">
      The directory path that was added
    </ResponseField>
    <ResponseField name="files_found" type="number">
      Number of files discovered in the directory
    </ResponseField>
    <ResponseField name="indexing_started" type="boolean">
      Whether indexing has begun
    </ResponseField>
  </Expandable>
</ResponseField>

## Response Example

```json 200 Success
{
  "status": "success",
  "data": {
    "directory": "/Users/username/Downloads",
    "files_found": 127,
    "indexing_started": true
  }
}
```

```json 400 Invalid Path
{
  "status": "error",
  "error": {
    "code": "INVALID_PATH",
    "message": "Directory does not exist or is not accessible"
  }
}
```

```json 409 Already Watching
{
  "status": "error",
  "error": {
    "code": "ALREADY_WATCHING",
    "message": "This directory or a parent directory is already being watched"
  }
}
```

## Behavior

When you watch a directory:

1. **Directory Validation**: Checks if the path exists and is accessible
2. **Duplicate Check**: Verifies this directory (or parent) isn't already watched
3. **Database Entry**: Adds directory to `watched_directories` table
4. **File Discovery**: Recursively scans for all files
5. **Pipeline Start**: Begins processing files through the 4-stage pipeline
6. **File Watcher**: Starts monitoring filesystem for changes

<Note>
The indexing process runs asynchronously. Use the `/api/updates` endpoint to monitor progress in real-time.
</Note>

<Warning>
Watching very large directories (thousands of files) may take significant time to complete initial indexing. The backend processes files sequentially to avoid overwhelming system resources.
</Warning>
